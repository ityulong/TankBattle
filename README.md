# 坦克大战（Battle City）网页复刻版

本项目以浏览器为平台，复刻了经典红白机《坦克大战》的核心玩法：

- 35 个顺序解锁的关卡（按原版节奏配置敌军类型/数量）。
- 单人本地操作，键盘方向键移动，空格开火，Enter 暂停，M 静音。
- 完整的敌军 AI、强化机制（坦克升级、子弹强化、敌兵掉落道具等）。
- 像素风画面、重制的 BGM 与音效，提供音量调节与静音。
- 启动菜单、关卡预览、战斗 HUD、关卡统计结算等 UI 布局。

## 目录结构

```
.
├── README.md            # 使用说明与部署指引
├── package.json         # npm 初始化文件（可选，用于管理依赖）
└── src/
    ├── index.html       # 游戏页面入口
    ├── styles.css       # HUD、菜单、战斗场景的样式
    ├── main.js          # 入口脚本，实例化 Game
    ├── core/            # 输入、渲染、地图判定等核心模块
    ├── audio/           # BGM / SFX 的合成与播放管理
    ├── data/            # 关卡地图与敌军刷新表
    ├── entities/        # 玩家、敌军、子弹、爆炸、道具等实体
    └── game/            # 游戏状态机、关卡流程、HUD 更新等主逻辑
```

## 本地运行

项目采用原生 ES Module，无需额外构建步骤，但请使用“静态资源服务器”来访问（直接使用 `file://` 打开会因跨域限制导致音频/模块无法加载）。

1. 确认本地已安装 Node.js 或者具备 Python。
2. 进入项目目录后任选以下方式启动静态服务器：

   **使用 Python（3.x）：**
   ```bash
   cd src
   python -m http.server 5173
   ```
   然后在浏览器访问 `http://localhost:5173`。

   **使用 Node.js（需可访问 npm 仓库）：**
   ```bash
   npx serve src
   ```
   或选择你习惯的静态服务器（如 `http-server`、`vite preview` 等）。

3. 浏览器中打开服务地址即可游玩。

> 提示：首次交互（点击页面或按键）后音频系统会自动初始化，顶部 HUD 可随时调整音量或静音。

## 操作说明

- **移动**：方向键 ↑ ↓ ← →
- **开火**：空格键（坦克升级后可一次发射更多子弹）
- **暂停/继续**：Enter
- **静音开关**：M 或 HUD 中的音量按钮

## 资源与扩展

- 音效 / BGM 使用 Web Audio API 实时合成，避免版权问题。
- 地图、敌人刷新节奏与强化机制基于 NES 原版规则进行实现，可在 `src/data` 与 `src/game/game.js` 中调整。
- 坦克与地形贴图以内联 Base64 数据 URI 形式保存在 `src/assets/tankSprites.js` 与 `src/assets/tileTextures.js`，无需单独的二进制资源文件。
- 若需进一步扩展（例如双人模式、关卡编辑器等），可在现有模块基础上增加新的状态与实体。

欢迎体验并继续改进这个经典的像素坦克大战！
